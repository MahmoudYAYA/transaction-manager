{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahmo/Desktop/IIA/BTS-2025-2026/JS/Online_tuto/full_stack/frontend/app/api.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// le front contact le backend port(3000) contact le backend port(800) grace à ce axios et NEXT_PUBLIC_API_URL\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL + \"api/\",\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAIW;AAJX;;AAEA,8GAA8G;AAC9G,MAAM,MAAM,2OAAK,CAAC,MAAM,CAAC;IACvB,SAAS,6DAAkC;AAC7C;uCAEe"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahmo/Desktop/IIA/BTS-2025-2026/JS/Online_tuto/full_stack/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\nimport toast from \"react-hot-toast\";\nimport api from \"./api\";\nimport { useEffect, useState } from \"react\";\nimport {\n  ArrowDownCircle,\n  TrendingDown,\n  TrendingUp,\n  Wallet,\n} from \"lucide-react\";\nimport { ArrowUpCircle } from \"lucide-react\";\nimport { Activity } from \"lucide-react\";\nimport { Trash } from \"lucide-react\";\n\ntype Transaction = {\n  id: string;\n  text: string;\n  amount: number;\n  created_at: string;\n};\n\nexport default function Home() {\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n\n  const getTransactions = async () => {\n    try {\n      const res = await api.get<Transaction[]>(\"transactions/\");\n      setTransactions(res.data);\n      toast.success(\"transactions chargées\");\n    } catch (error) {\n      console.error(\"erreur lors de chargement de transaction\", error);\n      toast.error(\"Erreur lors de chargement\");\n    }\n  };\n  const deleteTransactions = async (id: string) => {\n    try {\n      const res = await api.get<Transaction[]>(\"transactions/\");\n      setTransactions(res.data);\n      toast.success(\"transactions chargées\");\n    } catch (error) {\n      console.error(\"erreur lors de chargement de transaction\", error);\n      toast.error(\"Erreur lors de chargement\");\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await getTransactions();\n    };\n\n    fetchData();\n  }, []);\n\n  // on converti en number de chaque transaction\n  const amounts = transactions.map((t) => Number(t.amount) || 0);\n  const balance = amounts.reduce((acc, item) => acc + item, 0) || 0; // SI Y A PAS DES TRANSACTIONS ON LE MIS à 0 ;\n  const income =\n    amounts.filter((a) => a > 0).reduce((acc, item) => acc + item, 0) || 0;\n  const expense =\n    amounts.filter((a) => a < 0).reduce((acc, item) => acc + item, 0) || 0;\n  const ration =\n    income > 0 ? Math.min((Math.abs(expense) / income) * 100, 100) : 0;\n\n  const formatDate = (dateString: string) => {\n    const d = new Date(dateString);\n\n    return d.toLocaleDateString(\"fr-FR\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  return (\n    <div className=\"w-2/3 flex flex-col gap-4\">\n      <div className=\"flex justify-between rounded-2xl border-2 border-warning/10 border-dashed bg-warning/5 p-5\">\n        <div className=\"flex flex-col gap-1\">\n          <div className=\"badge badge-soft\">\n            <Wallet className=\"w-4 h4\" />\n            Votre solde\n          </div>\n          <div className=\"stat-value\">{balance.toFixed(0)} €</div>\n        </div>\n\n        <div className=\"flex flex-col gap-1\">\n          <div className=\"badge badge-soft badge-success\">\n            <ArrowUpCircle className=\"w-4 h4\" />\n            Revenus\n          </div>\n          <div className=\"stat-value\">{income.toFixed(0)} €</div>\n        </div>\n\n        <div className=\"flex flex-col gap-1\">\n          <div className=\"badge badge-soft badge-error\">\n            <ArrowDownCircle className=\"w-4 h4\" />\n            Dépenses\n          </div>\n          <div className=\"stat-value\">{expense.toFixed(0)} € </div>\n        </div>\n      </div>\n\n      <div className=\"rounded-2xl border-2 border-warning/10 border-dashed bg-warning/5 p-5\">\n        <div className=\"flex flex-between items-center mb-1\">\n          <div className=\"badge badge-soft badge-info gap-1\">\n            <Activity className=\"w-4 h-4\" />\n            Dépenses / Revenus\n          </div>\n\n          <div>{ration.toFixed(0)}%</div>\n        </div>\n        <progress\n          className=\"progress progress-warning w-full\"\n          value={ration}\n          max=\"100\"></progress>\n      </div>\n      {/* {buttont } */}\n\n      <div className=\"rounded-2xl border-2 border-warning/10 border-dashed bg-warning/5 \">\n        <table className=\"table\">\n          {/* head */}\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Description</th>\n              <th>Montant</th>\n              <th>Date</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {transactions.map((t, index) => (\n              <tr key={t.id}>\n                <th>{index + 1}</th>\n                <td>{t.text}</td>\n                <td>\n                  {t.amount > 0 ? (\n                    <TrendingUp className=\"inline w-4 h-4 text-green-500\" />\n                  ) : (\n                    <TrendingDown className=\"inline w-4 h-4 text-red-500 rotate-180\" />\n                  )}\n                  {t.amount > 0 ? `+${t.amount}` : `-${t.amount}`} €\n                </td>\n                <td>{formatDate(t.created_at)}</td>\n                <td>\n                  <button\n                    className=\"btn btn-sm btn-circle btn-outline btn-error\"\n                    title=\"supprimer\">\n                    <Trash className=\"w-4 h4\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n\n            <tr>\n              <th>2</th>\n              <td>Hart Hagerty</td>\n              <td>Desktop Support Technician</td>\n              <td>Purple</td>\n            </tr>\n            <tr>\n              <th>3</th>\n              <td>Brice Swyre</td>\n              <td>Tax Accountant</td>\n              <td>Red</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;;;AAZA;;;;;;;;AAqBe,SAAS;;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iQAAQ,EAAgB,EAAE;IAElE,MAAM,kBAAkB;QACtB,IAAI;YACF,MAAM,MAAM,MAAM,gNAAG,CAAC,GAAG,CAAgB;YACzC,gBAAgB,IAAI,IAAI;YACxB,6PAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4CAA4C;YAC1D,6PAAK,CAAC,KAAK,CAAC;QACd;IACF;IACA,MAAM,qBAAqB,OAAO;QAChC,IAAI;YACF,MAAM,MAAM,MAAM,gNAAG,CAAC,GAAG,CAAgB;YACzC,gBAAgB,IAAI,IAAI;YACxB,6PAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4CAA4C;YAC1D,6PAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,IAAA,kQAAS;0BAAC;YACR,MAAM;4CAAY;oBAChB,MAAM;gBACR;;YAEA;QACF;yBAAG,EAAE;IAEL,8CAA8C;IAC9C,MAAM,UAAU,aAAa,GAAG,CAAC,CAAC,IAAM,OAAO,EAAE,MAAM,KAAK;IAC5D,MAAM,UAAU,QAAQ,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,MAAM,MAAM,GAAG,8CAA8C;IACjH,MAAM,SACJ,QAAQ,MAAM,CAAC,CAAC,IAAM,IAAI,GAAG,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,MAAM,MAAM;IACvE,MAAM,UACJ,QAAQ,MAAM,CAAC,CAAC,IAAM,IAAI,GAAG,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,MAAM,MAAM;IACvE,MAAM,SACJ,SAAS,IAAI,KAAK,GAAG,CAAC,AAAC,KAAK,GAAG,CAAC,WAAW,SAAU,KAAK,OAAO;IAEnE,MAAM,aAAa,CAAC;QAClB,MAAM,IAAI,IAAI,KAAK;QAEnB,OAAO,EAAE,kBAAkB,CAAC,SAAS;YACnC,MAAM;YACN,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;QACV;IACF;IAEA,qBACE,qRAAC;QAAI,WAAU;;0BACb,qRAAC;gBAAI,WAAU;;kCACb,qRAAC;wBAAI,WAAU;;0CACb,qRAAC;gCAAI,WAAU;;kDACb,qRAAC,2SAAM;wCAAC,WAAU;;;;;;oCAAW;;;;;;;0CAG/B,qRAAC;gCAAI,WAAU;;oCAAc,QAAQ,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAGlD,qRAAC;wBAAI,WAAU;;0CACb,qRAAC;gCAAI,WAAU;;kDACb,qRAAC,wUAAa;wCAAC,WAAU;;;;;;oCAAW;;;;;;;0CAGtC,qRAAC;gCAAI,WAAU;;oCAAc,OAAO,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAGjD,qRAAC;wBAAI,WAAU;;0CACb,qRAAC;gCAAI,WAAU;;kDACb,qRAAC,8UAAe;wCAAC,WAAU;;;;;;oCAAW;;;;;;;0CAGxC,qRAAC;gCAAI,WAAU;;oCAAc,QAAQ,OAAO,CAAC;oCAAG;;;;;;;;;;;;;;;;;;;0BAIpD,qRAAC;gBAAI,WAAU;;kCACb,qRAAC;wBAAI,WAAU;;0CACb,qRAAC;gCAAI,WAAU;;kDACb,qRAAC,iTAAQ;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAIlC,qRAAC;;oCAAK,OAAO,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAE1B,qRAAC;wBACC,WAAU;wBACV,OAAO;wBACP,KAAI;;;;;;;;;;;;0BAIR,qRAAC;gBAAI,WAAU;0BACb,cAAA,qRAAC;oBAAM,WAAU;;sCAEf,qRAAC;sCACC,cAAA,qRAAC;;kDACC,qRAAC;kDAAG;;;;;;kDACJ,qRAAC;kDAAG;;;;;;kDACJ,qRAAC;kDAAG;;;;;;kDACJ,qRAAC;kDAAG;;;;;;kDACJ,qRAAC;kDAAG;;;;;;;;;;;;;;;;;sCAGR,qRAAC;;gCACE,aAAa,GAAG,CAAC,CAAC,GAAG,sBACpB,qRAAC;;0DACC,qRAAC;0DAAI,QAAQ;;;;;;0DACb,qRAAC;0DAAI,EAAE,IAAI;;;;;;0DACX,qRAAC;;oDACE,EAAE,MAAM,GAAG,kBACV,qRAAC,2TAAU;wDAAC,WAAU;;;;;6EAEtB,qRAAC,iUAAY;wDAAC,WAAU;;;;;;oDAEzB,EAAE,MAAM,GAAG,IAAI,CAAC,CAAC,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,MAAM,EAAE;oDAAC;;;;;;;0DAElD,qRAAC;0DAAI,WAAW,EAAE,UAAU;;;;;;0DAC5B,qRAAC;0DACC,cAAA,qRAAC;oDACC,WAAU;oDACV,OAAM;8DACN,cAAA,qRAAC,wSAAK;wDAAC,WAAU;;;;;;;;;;;;;;;;;uCAhBd,EAAE,EAAE;;;;;8CAsBf,qRAAC;;sDACC,qRAAC;sDAAG;;;;;;sDACJ,qRAAC;sDAAG;;;;;;sDACJ,qRAAC;sDAAG;;;;;;sDACJ,qRAAC;sDAAG;;;;;;;;;;;;8CAEN,qRAAC;;sDACC,qRAAC;sDAAG;;;;;;sDACJ,qRAAC;sDAAG;;;;;;sDACJ,qRAAC;sDAAG;;;;;;sDACJ,qRAAC;sDAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlB;GAvJwB;KAAA"}}]
}